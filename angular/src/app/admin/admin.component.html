<header>
  <mat-toolbar color="warn" style="height: 50px" class="fixed-top">
    <button mat-button (click)="snav.toggle()" routerLinkActive="active">
      <mat-icon>menu</mat-icon>
    </button>
    <button mat-button class="largeBtn" [routerLink]="['/home']"
      routerLinkActive="router-link-active">
      <mat-icon>home</mat-icon>
    </button>
    
    <span class="example-spacer"></span>
    <ng-container *ngIf="isConnected; else elseTemplate">
      <button mat-button class="largeBtn" [matMenuTriggerFor]="menu">
        {{user.fullName}}&nbsp;
      </button>
      <mat-menu #menu="matMenu">
        <button mat-menu-item [routerLink]="['/home/account']" [queryParams]="{ idUser: user.id}"
          routerLinkActive="active">
          <!-- skipLocationChange="true" -->
          <mat-icon>account_box</mat-icon>
          <span>Mon compte</span>
        </button>
        <mat-divider></mat-divider>
        <button mat-menu-item [routerLink]="['/home']" (click)="disconnect()">
          <mat-icon>clear</mat-icon>
          <span>Déconnexion</span>
        </button>
      </mat-menu>
    </ng-container>
    <ng-template #elseTemplate>
      <button mat-button class="largeBtn" [routerLink]="['/auth']"
        routerLinkActive="active">
        <mat-icon>vpn_key</mat-icon>
      </button>
    </ng-template>
    <button mat-button class="largeBtn" [routerLink]="['/admin']"
      routerLinkActive="router-link-active">
      <mat-icon>dashboard</mat-icon>
    </button>
  </mat-toolbar>
</header>
<mat-sidenav-container class="example-sidenav-container" style=" height: 100%;">
  <mat-sidenav #snav [mode]="(!mobileQuery.matches) ? 'side' : 'over'" [opened]="opened && !mobileQuery.matches"
    [fixedInViewport]="true" fixedTopGap="50" style="box-shadow: 2px 2px 10px 1px rgba(0,0,0,.2);">
    <mat-nav-list class="list" style="width: 180px; padding: 0;">
      <mat-divider></mat-divider>
      <mat-list-item [routerLink]="['/admin/dash']" (click)="currentSection = '/admin/dash'"
        [style.background-color]="(currentSection === '/admin/dash') ? 'rgba(73, 255, 185, 0.534)' : ''">
        <i class="fas fa-chart-line icon-size"></i>
        <span>Dash-board</span>
        <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
      </mat-list-item>
    </mat-nav-list>
    <mat-accordion>
      <mat-expansion-panel class="override">
        <mat-expansion-panel-header>
          <mat-panel-title>
            Data
          </mat-panel-title>

        </mat-expansion-panel-header>
        <mat-nav-list class="list" style="width: 180px; padding: 0;">
          <mat-divider></mat-divider>

          <mat-list-item [routerLink]="['/admin/advert']" (click)="currentSection = '/admin/advert'"
            [style.background-color]="(currentSection === '/admin/advert') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>advert</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <mat-list-item [routerLink]="['/admin/role']" (click)="currentSection = '/admin/role'"
            [style.background-color]="(currentSection === '/admin/role') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>Role</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <mat-list-item [routerLink]="['/admin/user']" (click)="currentSection = '/admin/user'"
            [style.background-color]="(currentSection === '/admin/user') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>user</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <!-- <mat-list-item [routerLink]="['/admin/typeuser']" (click)="currentSection = '/admin/typeuser'"
            [style.background-color]="(currentSection === '/admin/typeuser') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>typeuser</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item> -->
          <mat-list-item [routerLink]="['/admin/country']" (click)="currentSection = '/admin/country'"
            [style.background-color]="(currentSection === '/admin/country') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>Country</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <mat-list-item [routerLink]="['/admin/model']" (click)="currentSection = '/admin/model'"
            [style.background-color]="(currentSection === '/admin/model') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>model</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>

          <mat-list-item [routerLink]="['/admin/typevoiture']" (click)="currentSection = '/admin/typevoiture'"
            [style.background-color]="(currentSection === '/admin/typevoiture') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>typevoiture</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <mat-list-item [routerLink]="['/admin/marque']" (click)="currentSection = '/admin/marque'"
            [style.background-color]="(currentSection === '/admin/marque') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>Marque</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <mat-list-item [routerLink]="['/admin/transmission']" (click)="currentSection = '/admin/transmission'"
            [style.background-color]="(currentSection === '/admin/transmission') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>transmission</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
          <mat-list-item [routerLink]="['/admin/carburant']" (click)="currentSection = '/admin/carburant'"
            [style.background-color]="(currentSection === '/admin/carburant') ? 'rgba(73, 255, 185, 0.534)' : ''">
            <i class="fas fa-chart-line icon-size"></i>
            <span>carburant</span>
            <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
          </mat-list-item>
        </mat-nav-list>
      </mat-expansion-panel>
      <mat-expansion-panel class="override" (opened)="panelOpenState = true" (closed)="panelOpenState = false">
        <mat-expansion-panel-header>
          <mat-panel-title>
            ...
          </mat-panel-title>
        </mat-expansion-panel-header>
        <p>I'm visible because I am open</p>
      </mat-expansion-panel>
    </mat-accordion>
    <!-- <mat-nav-list style="width: 180px; padding: 0;">
      <div style="height:180px; padding: 0;">
        <img matLine [src]="userImg" alt="mourabit" width="180px" height="180px">

        
      </div>
      <mat-divider></mat-divider>
      <mat-list-item [routerLink]="['/client/dash']" (click)="currentSection = '/client/dash'"
        [ngStyle]="{'background-color': (currentSection === '/client/dash') ? 'rgba(73, 255, 185, 0.534)' : ''}">
        <i class="fas fa-chart-line" style="font-size: 20px;margin-right: 5px;"></i>
        <span>Dash-board</span>
        <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
      </mat-list-item>
      <mat-divider></mat-divider>
      <mat-list-item [routerLink]="['/client/add']" (click)="currentSection = '/client/add'"
        [ngStyle]="{'background-color': (currentSection === '/client/add') ? 'rgba(73, 255, 185, 0.534)' : ''}">
        <i class="fas fa-chart-line" style="font-size: 20px;margin-right: 5px;"></i>
        <span>Ajouter Demande</span>
        <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
      </mat-list-item>
      <mat-list-item [routerLink]="['/client/demande']" (click)="currentSection = '/client/demande'"
        [ngStyle]="{'background-color': (currentSection === '/client/demande') ? 'rgba(73, 255, 185, 0.534)' : ''}">
        <i class="fas fa-chart-line" style="font-size: 20px;margin-right: 5px;"></i>
        <span>Vos demandes</span>
        <span style="border-bottom: 5px solid rgba(73, 255, 185, 0.534);"></span>
      </mat-list-item>

      <mat-divider></mat-divider>
      <mat-list-item [routerLink]="['/client/actualite']" (click)="currentSection = '/client/actualite'"
        [ngStyle]="{'background-color': (currentSection === '/client/actualite') ? 'rgba(73, 255, 185, 0.534)' : ''}">
        <i class="fas fa-file-word" style="font-size: 20px;margin-right: 5px;"></i>
        <span>Actualite</span>
      </mat-list-item>

      <mat-list-item [routerLink]="['/client/archive-envoi']" (click)="currentSection = '/client/archive-envoi'"
        [ngStyle]="{'background-color': (currentSection === '/client/archive-envoi') ? 'rgba(73, 255, 185, 0.534)' : ''}">
        <i class="fas fa-file-word" style="font-size: 20px;margin-right: 5px;"></i>
        <span>Archive envoi</span>
      </mat-list-item>
     
      <mat-divider></mat-divider>
      
    </mat-nav-list> -->
  </mat-sidenav>

  <mat-sidenav-content>
    <main style="margin-top: 65px;" [@routerTransition]="getState(o)">
      <router-outlet #o="outlet"></router-outlet>
    </main>

    <!-- <footer>
      <mat-toolbar class="mt-2 text" color="primary">
        <mat-toolbar-row style="height: 70px">
          <span style="margin-left: auto; margin-right: auto;"> © {{ d | date:"dd/MMMM/yyyy" }} - Yaasin MOURABIT</span>
        </mat-toolbar-row>
      </mat-toolbar>
    </footer> -->
  </mat-sidenav-content>
</mat-sidenav-container>